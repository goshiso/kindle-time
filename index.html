<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clock For Kindle</title>
<style>
  @font-face {
    font-family: TIME;
    src: url("time.ttf") format("truetype");
  }
  
  @font-face {
    font-family: DATE;
    src: url("TrainOne-Regular.ttf") format("truetype");
  }

  body {
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: white;
  }

  .app {
    display: flex;
    flex-direction: column;  /* 垂直排列 */
    justify-content: flex-start;
    align-items: flex-start;
  }

  .time {
    width: 757px;   /* div固定宽度 */
    height: 110px;  /* div固定高度 */
    border: 1px solid black;
    display: flex;
    flex-direction: column;
    justify-content: flex-start; /* 垂直居上 */
    align-items: flex-start;     /* 水平居左 */
    font-family: TIME;
    font-size: 307px;
    text-align: center;
    line-height: 1.38;
    box-sizing: border-box;
  }


  .date {
    width: 100px;   /* div固定宽度 */
    height: 100px;  /* div固定高度 */
    border: 1px solid red;
    display: flex;
    flex-direction: column;
    justify-content: flex-start; /* 垂直居中 */
    align-items: flex-start;     /* 水平居中 */
    font-family: DATE;
    font-size: 40px;
    text-align: center;
    line-height: 1.2;
    box-sizing: border-box;
  }
</style>
</head>
<body>

<div class="app">
  <div class="time">01<br>01</div>
  <div class="date">10.4<br>SAT</div>
</div>

<script>
(function(){
  var domTime = document.querySelector('.time');
  var domDate = document.querySelector('.date');

  // 更新时间
  function render() {
    var time = new Date();
    var len = time.getTime();
    var offset = time.getTimezoneOffset() * 60000;
    var utcTime = len + offset;
    var date = new Date(utcTime + 3600000 * 9);

    // 时间（补零格式化）
    function pad2(n) {
      return n < 10 ? "0" + n : "" + n;
    }
    var hh = pad2(date.getHours());  // 小时 00–23
    var mm = pad2(date.getMinutes()); // 分钟 00–59
    var timeText = hh + "<br>" + mm;

//    if (domTime.innerHTML != timeText) domTime.innerHTML = "01<br>01";
        alert(hh);
    if (hh == "02") {
      domTime.style.height = "20px";
      domDate.innerHTML = `
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10.4<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SAT
`;
    }
  }

  // 计算到下一分钟整点的毫秒数，然后在那时更新并递归调度下一次
  function scheduleNextMinuteUpdate() {
    var now = new Date();
    var msToNextMinute = (60 - now.getSeconds()) * 1000 - now.getMilliseconds();
    setTimeout(function () {
      render();
      scheduleNextMinuteUpdate();
    }, msToNextMinute + 10); // +10ms 余量，防止早一点唤醒
  }


  // 初始化
  render();
  scheduleNextMinuteUpdate();


})();
</script>

</body>
</html>


