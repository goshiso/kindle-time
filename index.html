<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clock For Kindle</title>
<style>
  @font-face {
    font-family: TIME;
    src: url("time.ttf") format("truetype");
  }

  body {
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: white;
  }
  
  .time {
    width: 757px;   /* div固定宽度 */
    height: 906px;  /* div固定高度 */
    border: 2px solid black;
    display: flex;
    flex-direction: column;
    justify-content: center; /* 垂直居中 */
    align-items: center;     /* 水平居中 */
    font-family: TIME;
    text-align: center;
    line-height: 1.38;
    box-sizing: border-box;
  }
</style>
</head>
<body>

<div class="time">00<br>00</div>

<script>
(function(){
  var domTime = document.querySelector('.time');

  // 更新时间
function renderNow() {
  var now = new Date();
  var len = now.getTime();
  var offset = now.getTimezoneOffset() * 60000;
  var date = new Date(len + offset + 3600000 * 9);
  var hh = pad2(date.getHours());
  var mm = pad2(date.getMinutes());
  domTime.innerHTML = hh + "<br>" + mm;
}

// 计算到下一分钟整点的毫秒数，然后在那时更新并递归调度下一次
function scheduleNextMinuteUpdate() {
  var now = new Date();
  var msToNextMinute = (60 - now.getSeconds()) * 1000 - now.getMilliseconds();
  setTimeout(function () {
    renderNow();
    scheduleNextMinuteUpdate();
  }, msToNextMinute + 10); // +10ms 余量，防止早一点唤醒
}

  // 根据 div 高度自动调整字体大小
  function fitText() {
    var divHeight = domTime.clientHeight;
    domTime.style.fontSize = '307px'; // 两行文字占一半高度
  }

  // 初始化
  fitText();
  // 初始化一次显示并开始调度
  renderNow();
  scheduleNextMinuteUpdate();

})();
</script>

</body>
</html>









